@import "./import.less";

.@{prefix}-chat {
  // 消息样式
  &__text {
    font: @font-body-large;
    word-break: break-all;

    &--error {
      color: @error-color;
    }

    & &__user pre {
      color: @text-color-secondary;
      margin: 0;
      white-space: pre-wrap;
    }

    &__assistant {
    }

    & &__assistant &__content .hljs {
      background-color: @code-bg-color-page;
      border-radius: @border-radius-large;
    }

    &__markdown {
      color: @text-color-primary;

      h1 {
        font: var(--t-chat-md-h1-font);
        margin: var(--t-chat-md-content-gap-t1);
      }
      h2 {
        font: var(--t-chat-md-h2-font);
        margin: var(--t-chat-md-content-gap-t2);
      }
      h3, h4, h5, h6 {
        font: var(--t-chat-md-h3-font);
        margin: var(--t-chat-md-content-gap-t3);
      }

      p {
        margin: var(--t-chat-md-content-gap-main);
        word-break: break-word;
        overflow-wrap: break-word;
      }
      s {
        color: var(--t-chat-md-s-color);
      }
      :where(code):not(:where(pre *)) {
        color: @error-color;
        background: @error-color-1;
        border-radius: @border-radius-default;
        padding: @comp-paddingTB-xxs @pop-padding-m;
        font-size: @font-size-s;
        word-break: break-word;
        margin: 0 @comp-margin-xxs;
      }

      li {
        word-break: break-word;
        overflow-wrap: break-word;
        margin: 0.5em 0;

        &:first-child {
          margin-top: 0;
        }
      }
      ul, ol {
        margin: var(--t-chat-md-content-gap-main);
        margin-left: 2em;
      }
      ul {
        list-style: var(--t-chat-md-ul-style);
      }
      ol {
        list-style: var(--t-chat-md-ol-style);
      }

      img {
        max-width: 100%;
        margin: @comp-margin-xs 0;
        border-radius: @border-radius-default;
      }

      blockquote {
        margin: var(--t-chat-md-blockquote-margin);
        font-size: inherit;
        border-left: var(--t-chat-md-blockquote-border-left);
        padding-left: 12px;
        color: var(--t-chat-md-blockquote-color);
      }

      hr {
        margin: var(--t-chat-md-hr-margin);
        border: none;
        border-top: var(--t-chat-md-hr-border);
        background: none;
      }
    }
  }

  &__code-header {
    display: flex;
    padding: 0 @pop-padding-xl;
    padding-top: @pop-padding-xl;
    justify-content: space-between;
  }

  &__language-txt {
    color: @code-font-color-base;
  }
}
